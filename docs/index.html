<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sephora Decant - Luxo em Perfumes</title>
  <link rel="stylesheet" href="styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&family=Montserrat&display=swap"
    rel="stylesheet" />
</head>

<body>
  <header>
    <h1>Sephora Decant</h1>
    <p>Decantes de perfumes caros com elegância e luxo</p>
  </header>

  <main class="container" id="perfumes-container">
    <!-- Cards serão inseridos aqui via JS -->
  </main>

  <footer>
    &copy; 2025 Sephora Decant. Luxo, exclusividade e sofisticação.
  </footer>

<script>
  const container = document.getElementById('perfumes-container');

  function createCard(perfume) {
    const card = document.createElement('div');
    card.classList.add('card');

    card.innerHTML = `
      <img src="${perfume.image}" alt="${perfume.name}">
      <div class="card-content">
        <h2>${perfume.name}</h2>
        <p class="description">${perfume.description}</p>

        <div class="volume-buttons">
          <button class="btn-volume active" data-volume="2ml">2ml</button>
          <button class="btn-volume" data-volume="5ml">5ml</button>
          <button class="btn-volume" data-volume="10ml">10ml</button>
        </div>

        <div class="price-display">
          <p>Preço: R$ <span class="price-value">${perfume.value.value2ml}</span></p>
        </div>
      </div>
    `;

    const btns = card.querySelectorAll('.btn-volume');
    const priceValue = card.querySelector('.price-value');

    btns.forEach(btn => {
      btn.addEventListener('click', () => {
        btns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');

        const vol = btn.getAttribute('data-volume');
        if (vol === '2ml') priceValue.textContent = perfume.value.value2ml;
        else if (vol === '5ml') priceValue.textContent = perfume.value.value5ml;
        else if (vol === '10ml') priceValue.textContent = perfume.value.value10ml;
      });
    });

    return card;
  }

  function loadPerfumes() {
    fetch('data.json')
      .then(response => {
        if (!response.ok) {
          throw new Error(`Erro ao carregar data.json: ${response.statusText}`);
        }
        return response.json();
      })
      .then(perfumesData => {
        perfumesData.forEach(perfume => {
          const card = createCard(perfume);
          container.appendChild(card);
        });
      })
      .catch(error => {
        container.innerHTML = `<p style="color: #f00; text-align: center;">${error.message}</p>`;
      });
  }

  loadPerfumes();
</script>

</body>

</html>